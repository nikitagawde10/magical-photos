<div class="header-container p-1" id="header">
  <!-- Top right content - desktop only -->
  <div class="top-right-content">
    <ul class="navbar-nav links-menu flex-row align-items-center">
      <li *ngIf="!isAuthenticated" class="nav-item">
        <span class="nav-link">Welcome Guest</span>
      </li>
      <li *ngIf="isAuthenticated" class="nav-item">
        <span class="nav-link">Welcome {{ userDisplayName }}</span>
      </li>
      <div class="vr m-2"></div>
      <li *ngIf="isAuthenticated" class="nav-item">
        <a class="nav-link" (click)="logout()">Logout</a>
      </li>
      <li *ngIf="!isAuthenticated" class="nav-item">
        <a [routerLink]="['/login']" class="nav-link">Login</a>
      </li>
      <div class="vr m-2"></div>
      <li class="nav-item">
        <a [routerLink]="['/changeLanguage']" class="nav-link">
          <i class="bi bi-globe"></i> 简体中文
        </a>
      </li>
    </ul>
  </div>

  <!-- Bottom content -->
  <div class="bottom-content">
    <!-- Mobile Hamburger -->
    <div class="mobile-menu-toggle" (click)="toggleMobileMenu()">
      <div class="hamburger" [class.open]="isMobileMenuOpen">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- Logo -->
    <div
      class="logo-container"
      [routerLink]="[isAuthenticated ? '/users' : '/']"
    >
      <img *ngIf="logo" [src]="logo" alt="Logo" class="logo-image nav-link" />
    </div>

    <!-- Desktop Menu -->
    <ul class="navbar-nav ml-auto mt-0 desktop-menu">
      <li routerLinkActive="active" class="nav-item">
        <a [routerLink]="['/about']" class="nav-link">About PhotoPass</a>
      </li>
      <li routerLinkActive="active" class="nav-item">
        <a [routerLink]="['/gallery']" class="nav-link">Photo</a>
      </li>
      <li *ngIf="isAuthenticated" routerLinkActive="active" class="nav-item">
        <a [routerLink]="['/users']" class="nav-link">Me</a>
      </li>
    </ul>

    <!-- Spacer for alignment -->
    <div class="mobile-menu-spacer"></div>
  </div>
</div>

<!-- Mobile Slide-out Menu -->
<div class="mobile-menu" [class.mobile-menu-open]="isMobileMenuOpen">
  <div class="mobile-menu-header">
    {{ isAuthenticated ? "Welcome " + userDisplayName : "Welcome Guest" }}
  </div>
  <div class="mobile-menu-items">
    <div class="mobile-menu-item">
      <a
        class="mobile-nav-link"
        routerLink="/about"
        (click)="closeMobileMenu()"
      >
        <span class="mobile-nav-icon">📋</span> About Disney PhotoPass
      </a>
    </div>
    <div class="mobile-menu-item">
      <a
        class="mobile-nav-link"
        routerLink="/gallery"
        (click)="closeMobileMenu()"
      >
        <span class="mobile-nav-icon">📷</span> Photo
      </a>
    </div>
    <div class="mobile-menu-item" *ngIf="isAuthenticated">
      <a
        class="mobile-nav-link"
        routerLink="/users"
        (click)="closeMobileMenu()"
      >
        <span class="mobile-nav-icon">👤</span> Me
      </a>
    </div>
    <div class="mobile-menu-item">
      <a
        class="mobile-nav-link"
        routerLink="/changeLanguage"
        (click)="closeMobileMenu()"
      >
        <span class="mobile-nav-icon">🌐</span> 简体中文
      </a>
    </div>
    <div class="mobile-menu-item" *ngIf="isAuthenticated">
      <a class="mobile-nav-link" (click)="logout(); closeMobileMenu()">
        <span class="mobile-nav-icon">🚪</span> Logout
      </a>
    </div>
  </div>
</div>

<!-- Mobile Menu Overlay -->
<div
  class="mobile-menu-overlay"
  [class.mobile-menu-overlay-open]="isMobileMenuOpen"
  (click)="closeMobileMenu()"
></div>
